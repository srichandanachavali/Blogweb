{% extends 'blog/base.html' %}

{% block content %}
<div class="post-grid">
  {% for post in posts %}
  <div class="post-card">
    {% if post.image %}
    <img src="{{ post.image.url }}" alt="{{ post.title }}" />
    {% endif %}
    <div class="post-card-content">
      <h2>
        <a href="{% url 'post_detail' pk=post.pk %}">{{ post.title }}</a>
      </h2>
      <p class="post-card-meta">
        Published on {{ post.publish.date }} by {{ post.author }}
      </p>
      <p>{{ post.body|truncatewords:20|linebreaks }}</p>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}