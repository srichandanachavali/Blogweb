<!DOCTYPE html>
<html>
  <head>
    <title>{{ post.title }}</title>
    <style>
      body {
        font-family: sans-serif;
        background-color: #f9f9f9;
        margin: 40px;
        color: #444; /* Darker text for better contrast */
      }
      a {
        color: #d9534f; /* A reddish color from the palette */
      }
      .post-article,
      .comments-section {
        background-color: white;
        padding: 25px;
        border: 1px solid #ddd;
        border-radius: 8px;
        max-width: 800px;
        margin: 20px auto;
      }
      .comment {
        background-color: #fffaf0; /* A very light peachy color, close to Papaya Whip */
        border: 1px solid #ffdab9; /* Peachy border */
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 15px;
      }
      .comment-meta {
        font-size: 0.9em;
        color: #555;
        margin-bottom: 5px;
      }
      .comment-body {
        line-height: 1.6;
      }
      .comment-form input[type="text"],
      .comment-form input[type="email"],
      .comment-form textarea {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        border: 1px solid #ffdab9; /* Peachy border */
        border-radius: 4px;
        transition: all 0.3s ease-in-out; /* Smooth transition for focus */
      }
      /* Gradient effect on focus */
      .comment-form input[type="text"]:focus,
      .comment-form input[type="email"]:focus,
      .comment-form textarea:focus {
        outline: none;
        border-color: #f97a5d; /* Coral border on focus */
        background: linear-gradient(
          to right,
          #ffffff,
          #fff0e5
        ); /* White to light peachy gradient */
        box-shadow: 0 0 5px rgba(249, 122, 93, 0.5);
      }
      .comment-form input[type="submit"] {
        background-color: #ff6347; /* Tomato color */
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="post-article">
      <h1>{{ post.title }}</h1>
      <p>Published on {{ post.publish.date }} by {{ post.author }}</p>
      <div>{{ post.body|linebreaks }}</div>
    </div>

    <div class="comments-section">
      {% with comments.count as total_comments %}
      <h2>{{ total_comments }} comment{{ total_comments|pluralize }}</h2>
      {% endwith %} {% for comment in comments %}
      <div class="comment">
        <p class="comment-meta">
          Comment by <strong>{{ comment.name }}</strong>
          on {{ comment.created|date:"d M, Y" }}
        </p>
        <div class="comment-body">{{ comment.body|linebreaks }}</div>
      </div>
      {% empty %}
      <p>There are no comments yet.</p>
      {% endfor %}

      <div class="comment-form">
        <h2>Add a new comment</h2>
        <form method="post">
          {{ form.as_p }} {% csrf_token %}
          <p><input type="submit" value="Add comment" /></p>
        </form>
      </div>
    </div>

    <a href="{% url 'post_list' %}">Back to post list</a>
  </body>
</html>
